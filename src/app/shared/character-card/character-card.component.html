<div
  class="relative bg-slate-800/50 backdrop-blur-sm shadow-xl shadow-black/30 rounded-lg overflow-hidden transition-all duration-300 group flex flex-col justify-between min-h-[150px]"
  [ngClass]="{
    'border border-blue-400/40 hover:border-blue-400/80': character.type === 'ogl5',
    'border border-purple-400/40 hover:border-purple-400/80': character.type === 'custom'
  }">

  <!-- Bouton de suppression stylisé pour le thème -->
  <button *ngIf="editMode"
          (click)="onDeleteClick($event)"
          class="absolute top-2 right-2 bg-red-800/80 hover:bg-red-700 text-white rounded-full w-8 h-8 flex items-center justify-center z-10 transition-all duration-200 transform opacity-0 group-hover:opacity-100 hover:scale-110 focus:outline-none ring-2 ring-red-500/50">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
    </svg>
  </button>

  <!-- Section principale du contenu (haut de la carte) -->
  <div class="p-4 pb-0">
    <div class="mb-2">
      <!-- Titre avec couleur dynamique et police "fantasy" -->
      <h3 class="text-xl font-bold font-serif truncate"
          [ngClass]="{'text-blue-400': character.type === 'ogl5', 'text-purple-400': character.type === 'custom'}">
        {{ character.name }}
      </h3>
    </div>

    <!-- Informations du personnage -->
    <div class="text-gray-400 text-sm mb-3">
      <span>Niveau {{ character.level }}</span>
      <span class="mx-2 text-gray-600">|</span>
      <span>{{ character.race }}</span>
      <span class="mx-2 text-gray-600">|</span>
      <span>{{ character.classe }}</span>
    </div>
  </div>

  <!-- Section inférieure avec les statuts alignés -->
  <div class="p-4 pt-2 flex items-center justify-between">
    <!-- Statut avec un style de "gemme" lumineuse (gauche) -->
    <span class="inline-block px-3 py-1 text-xs font-semibold rounded-full ring-1"
          [ngClass]="{
            'bg-green-900/50 text-green-300 ring-green-500/50': character.status === 'VIVANT',
            'bg-red-900/50 text-red-300 ring-red-500/50': character.status === 'MORT'
          }">
      {{ getStatusLabel(character.status) }}
    </span>

    <!-- Badge de type déplacé ici (droite) -->
    <span class="text-xs font-bold px-2 py-1 rounded-full"
          [ngClass]="{
            'bg-blue-900/70 text-blue-300': character.type === 'ogl5',
            'bg-purple-900/70 text-purple-300': character.type === 'custom'
          }">
      {{ character.type === 'ogl5' ? 'OGL5' : 'Custom' }}
    </span>
  </div>
</div>
